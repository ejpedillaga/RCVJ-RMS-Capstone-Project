<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Side RCVJ</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="mediaqueries.css">
    <script src="script.js" defer></script>  
    <script src="https://cdn.ckeditor.com/ckeditor5/39.0.0/classic/ckeditor.js"></script>
</head>
<body>
    <div id="mySidebar" class="sidebar closed">
        <div class="sidebar-header">
            <h3>RCVJ Inc.</h3>
            <button class="toggle-btn" onclick="toggleNav()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
            <a href="index.html" class="active"><i class="fa-solid fa-suitcase" s></i> <span>Jobs</span></a>
            <a href="smartsearch.html"><i class="fa-solid fa-magnifying-glass"></i> <span>Smart Search</span></a>
            <a href="candidates.html"><i class="fa-solid fa-user"></i></i> <span>Candidates</span></a>
            <a href="schedules.php"><i class="fa-solid fa-calendar"></i></i> <span>Schedules</span></a>
            <a href="partners.html"><i class="fa-solid fa-handshake"></i> <span>Partners</span></a>
            <a href="employees.html"><i class="fa-solid fa-user-tie"></i> <span>Employees</span></a>
        </div>

        <div id="header">
            <img id="logo" src="img/logo.png" alt="logo">
            <div class="profile">
                <img src="img/pfp.png" alt="Profile Picture">
                <span class="name">Admin</span>
            </div>
        </div>

        <div id="main">
                <h2 style="font-size: 36px;">Jobs</h2>

                <div class="btnGrp">
                    <div class="toggle-button">
                        <div class="toggle-option open" id="tab1" onclick="toggle(this)">Open (<span id="open">2</span>)</div>
                        <div class="toggle-option closed" id="tab2" onclick="toggle(this)">Closed (<span id="close">1</span>)</div>
                    </div>
                        
                    <button class="post-button" onclick="openJobPostingPopup()">Post a Job</button>
                </div>
                

                <div class="filter-container">
                    <div class="search-wrapper">
                        <i class="fas fa-magnifying-glass search-icon"></i>
                        <input type="text" class="search-bar" placeholder="Search Jobs">
                    </div>
                    <select class="sort-by">
                        <option>Sort by: Posting Date</option>
                        <option>Sort by: Company Name</option>
                        <option>Sort by: Job Title</option>
                    </select>
                    <select class="order-sort">
                        <option>Ascending</option>
                        <option>Descending</option>
                    </select>
                </div>

                <div class="tab-content" id="tab1-content">
                    <table>
                        <thead>
                            <tr class="th1">
                                <th>Company</th>
                                <th>Job Title</th>
                                <th>Date Posted</th>
                                <th>Candidates</th>
                                <th>Status</th>
                                <th></th>
                            </tr>
                        </thead>
                        
                        <tbody>

                        <!--
                          <tr class="tr1">
                            <td><img src="img/walter.png" alt="Walter Supermarket Logo"></td>
                            <td id="company-name"><strong>SUPERMARKET BAGGER</strong><br>Dasmarinas, Cavite</td>
                            <td id="date">5/13/2024</td>
                            <td id="available">20</td>
                            <td>
                                <select class="status-dropdown">
                                    <option>Open</option>
                                    <option>Closed</option>
                                </select>
                            </td>
                            <td id="edit"><i class="fa-solid fa-pen-to-square fa-2xl" style="color: #2C1875; cursor: pointer;" onclick="openPopup()"></i></td>
                        </tr>

                        <tr class="tr1">
                            <td id="logo"><img src="img/walter.png" alt="Walter Supermarket Logo"></td>
                            <td id="company-name"><strong>SUPERMARKET BAGGER</strong><br>Dasmarinas, Cavite</td>
                            <td id="date">5/13/2024</td>
                            <td id="available">20</td>
                            <td>
                                <select class="status-dropdown">
                                    <option>Open</option>
                                    <option>Closed</option>
                                </select>
                            </td>
                            <td id="edit"><i class="fa-solid fa-pen-to-square fa-2xl" style="color: #2C1875; cursor: pointer;" onclick="openPopup()"></i></td>
                        </tr>  
                        -->

                        </tbody>
                    </table>
                </div>

                <div class="tab-content" id="tab2-content" >
                    <table>
                        <thead>
                            <tr class="th1">
                                <th>Company</th>
                                <th>Job Title</th>
                                <th>Date Posted</th>
                                <th>Candidates</th>
                                <th>Status</th>
                                <th></th>
                            </tr>
                        </thead>
                        
                        <tbody>

                        </tbody>
                        
                    </table>
                </div>

                <!-- Overlay -->
                <div class="overlay" id="overlay"></div>

                <!-- Popup dialog -->
                <div class="popup" id="popup">
                    <h2>Job Posting</h2>
                    <p>Fill in all the needed fields</p>
                    <div class="form-container">
                        <!-- Steps -->
                        <div class="form-step form-step-active">
                            <div class="jobposting-box">
                                <label for="jobposting-partner-company">Partner Company</label><br>
                                <select id="jobposting-partner-company" class="jobposting-select">
                                    <!--
                                    <option>WalterMart Supermarket - Dasmariñas</option>
                                    -->                              
                                </select>
                            </div>
                            
                            <div class="btns-group">
                                <a href="#" class="btn btn-next"><i class="fas fa-chevron-right"></i></a>
                            </div>
                            <div class="jobposting-buttons">
                                <button class="jobposting-button jobposting-button-save" onclick="saveAndPostJob()">Save and Post</button>
                                <button class="jobposting-button jobposting-button-cancel" onclick="closePopup('popup')">Cancel</button>
                            </div>
                        </div>
                        
                        <div class="form-step">
                            <div class="jobposting-box">
                                <label for="jobposting-job-title">Job Title</label><br>
                                <input type="text" id="jobposting-job-title" class="jobposting-input" placeholder="Enter job title"><br><br>
                                <label for="jobposting-location">Location</label><br>
                                <input type="text" id="jobposting-location" class="jobposting-input" placeholder="Enter job location"><br><br>
                                <label for="jobposting-openings">Available openings</label><br>
                                <input type="number" id="jobposting-openings" class="jobposting-select" min="1" 
                            max="100" placeholder="Enter number of open positions from 1-100">
                            </div>
                            
                            <div class="btns-group">
                                <a href="#" class="btn btn-prev"><i class="fas fa-chevron-left"></i></a>
                                <a href="#" class="btn btn-next"><i class="fas fa-chevron-right"></i></a>
                            </div>
                            <div class="jobposting-buttons">
                                <button class="jobposting-button jobposting-button-save" onclick="saveAndPostJob()">Save and Post</button>
                                <button class="jobposting-button jobposting-button-cancel" onclick="closePopup('popup')">Cancel</button>
                            </div>
                        </div>

                        <div class="form-step">
                            <div class="jobposting-box">
                                <label for="jobposting-description">Job Description</label><br>
                                <textarea id="jobposting-description" class="jobposting-textarea"></textarea>
                            </div>
                            <div class="btns-group">
                                <a href="#" class="btn btn-prev"><i class="fas fa-chevron-left"></i></a>
                                <a href="#" class="btn btn-next"><i class="fas fa-chevron-right"></i></a>
                            </div>
                            <div class="jobposting-buttons">
                                <button class="jobposting-button jobposting-button-save" onclick="saveAndPostJob()">Save and Post</button>
                                <button class="jobposting-button jobposting-button-cancel" onclick="closePopup('popup')">Cancel</button>
                            </div>
                        </div>

                        <div class="form-step">
                            <div class="jobposting-box">
                                <label for="jobposting-skills">Skills</label><br>
                                <div id="add-jobposting-skills-container" class="jobposting-skills-container">
                                    <input type="text" id="jobposting-skills-input" placeholder="Enter a skill and press Enter">
                                </div>
                            </div>
                            <div class="btns-group">
                                <a href="#" class="btn btn-prev"><i class="fas fa-chevron-left"></i></a>
                                <a href="#" class="btn btn-next"><i class="fas fa-chevron-right"></i></a>
                            </div>
                            <div class="jobposting-buttons">
                                <button class="jobposting-button jobposting-button-save" onclick="saveAndPostJob()">Save and Post</button>
                                <button class="jobposting-button jobposting-button-cancel" onclick="closePopup('popup')">Cancel</button>
                            </div>
                        </div>

                        <div class="form-step">
                            <div class="jobposting-box">
                                <label for="jobposting-qualifications">Qualifications</label><br>
                                <div class="jobposting-container">
                                    <div id="jobposting-qualifications-container" class="jobposting-qualifications-container">
                                        <input type="text" id="jobposting-qualifications-input" placeholder="Enter a qualification and press Enter">
                                    </div>
                                    <div class="form-group">
                                        <label for="added_qualifications">Qualifications Added</label>
                                        <ul id="added_qualifications_list"></ul>
                                    </div>
                                </div>
                                <br>
                            </div>
                            <div class="btns-group">
                                <a href="#" class="btn btn-prev"><i class="fas fa-chevron-left"></i></a>
                            </div>
                            <div class="jobposting-buttons">
                                <button class="jobposting-button jobposting-button-save" onclick="saveAndPostJob()">Save and Post</button>
                                <button class="jobposting-button jobposting-button-cancel" onclick="closePopup('popup')">Cancel</button>
                            </div>
                        </div>          
                    </div>
                </div>

                <!-- Edit Job Post Popup dialog -->
                <div class="popup" id="editJob-popup">
                    <h2>Job Posting</h2>
                    <p>Fill in all the needed fields</p>
                    <div class="form-container">
                        <!-- Steps -->
                        <div class="form-step form-step-active">
                            <div class="jobposting-box">
                                <label for="jobposting-partner-company">Partner Company</label><br>
                                <input type="text" id="edit-jobposting-partner-company" class="jobposting-select" readonly>
                                    <!--
                                    <option>WalterMart Supermarket - Dasmariñas</option>
                                    -->                              
                                </select>
                            </div>
                            
                            <div class="btns-group">
                                <a href="#" class="btn btn-next"><i class="fas fa-chevron-right"></i></a>
                            </div>
                            <div class="jobposting-buttons">
                                <button class="jobposting-button jobposting-button-save" onclick="editJob()">Save and Post</button>
                                <button class="jobposting-button jobposting-button-cancel" onclick="closePopup('editJob-popup')">Cancel</button>
                            </div>
                        </div>
                        
                        <div class="form-step">
                            <div class="jobposting-box">
                                <label for="jobposting-job-title">Job Title</label><br>
                                <input type="text" id="edit-jobposting-job-title" class="jobposting-input" placeholder="Enter job title"><br><br>
                                <label for="jobposting-location">Location</label><br>
                                <input type="text" id="edit-jobposting-location" class="jobposting-input" placeholder="Enter job location"><br><br>
                                <label for="jobposting-openings">Available openings</label><br>
                                <input type="number" id="edit-jobposting-openings" class="jobposting-select" min="1" 
                            max="100" placeholder="Enter number of open positions from 1-100">
                            </div>
                            
                            <div class="btns-group">
                                <a href="#" class="btn btn-prev"><i class="fas fa-chevron-left"></i></a>
                                <a href="#" class="btn btn-next"><i class="fas fa-chevron-right"></i></a>
                            </div>
                            <div class="jobposting-buttons">
                                <button class="jobposting-button jobposting-button-save" onclick="editJob()">Save and Post</button>
                                <button class="jobposting-button jobposting-button-cancel" onclick="closePopup('editJob-popup')">Cancel</button>
                            </div>
                        </div>

                        <div class="form-step">
                            <div class="jobposting-box">
                                <label for="jobposting-description">Job Description</label><br>
                                <textarea id="edit-jobposting-description" class="jobposting-textarea"></textarea>
                            </div>
                            <div class="btns-group">
                                <a href="#" class="btn btn-prev"><i class="fas fa-chevron-left"></i></a>
                                <a href="#" class="btn btn-next"><i class="fas fa-chevron-right"></i></a>
                            </div>
                            <div class="jobposting-buttons">
                                <button class="jobposting-button jobposting-button-save" onclick="editJob()">Save and Post</button>
                                <button class= "jobposting-button jobposting-button-cancel" onclick="closePopup('editJob-popup')">Cancel</button>
                            </div>
                        </div>

                        <div class="form-step">
                            <div class="jobposting-box">
                                <label for="jobposting-skills">Skills</label><br>
                                <div id="edit-jobposting-skills-container" class="jobposting-skills-container">
                                    <input type="text" id="edit-jobposting-skills-input" placeholder="Enter a skill and press Enter">
                                </div>
                            </div>
                            <div class="btns-group">
                                <a href="#" class="btn btn-prev"><i class="fas fa-chevron-left"></i></a>
                            </div>
                            <div class="jobposting-buttons">
                                <button class="jobposting-button jobposting-button-save" onclick="editJob()">Save and Post</button>
                                <button class="jobposting-button jobposting-button-cancel" onclick="closePopup('editJob-popup')">Cancel</button>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Dialog Box Delete Employees-->
                <div class="delete-employees-dialog-box" id="dialogBox-delete">
                    <div class="addpartners-back-button" onclick="hideDialogDelete()">
                        <i class="fas fa-chevron-left"></i> Back
                    </div>

                    <h2 style="text-align: center; margin-bottom: 2rem;">Are you sure you want to delete this Job?</h1>
                    <button class="delete-employees-save-button">Delete</button>
                </div>
        </div>
    </div>
    <script>
        document.getElementById('jobposting-qualifications-input').addEventListener('keydown', function(event) {
    if (event.key === 'Enter') {
        event.preventDefault(); // Prevent the form from submitting

        var skillInput = document.getElementById('jobposting-qualifications-input');
        var skillValue = skillInput.value.trim();

        if (skillValue !== '') {
            var ul = document.getElementById('added_qualifications_list');
            var li = document.createElement('li');
            li.innerHTML = `
                <span>${skillValue}</span>
                <button class="close-btn">&times;</button>
            `;
            ul.appendChild(li);
            skillInput.value = ''; // Clear the input after adding

            // Add event listener to the close button
            li.querySelector('.close-btn').addEventListener('click', function() {
                li.remove();
            });
        }
    }
});
    </script>

</body>
</html>
